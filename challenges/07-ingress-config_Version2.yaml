id: 07-ingress-config_Version2
title: Configure an Ingress to route traffic to a Service.
category: gateway
namespace: 07-ingress-config-version2
timeLimitSeconds: 900
setup: ../scripts/challenges/setup-gateway.sh
grade: ../grading/grade-gateway.sh
description: |
  Task: Configure an Ingress to route traffic to a Service.
  
  Assumptions:
  - Service: svc-name on port 80
  - Hostname: app.example.com
  - Ingress controller installed (e.g., NGINX)
  
  Steps:
  
  1) Create Ingress (networking.k8s.io/v1)
  cat <<'EOF' | kubectl apply -f -
  apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    name: app-ingress
    annotations:
      # Optional NGINX example annotations:
      # nginx.ingress.kubernetes.io/rewrite-target: /
  spec:
    ingressClassName: nginx
    rules:
    - host: app.example.com
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: svc-name
              port:
                number: 80
  EOF
  
  2) Verify and test
  kubectl get ingress app-ingress
  kubectl describe ingress app-ingress
  # Test via curl if DNS not set:
  curl -H "Host: app.example.com" http://<INGRESS_LB_IP>/
