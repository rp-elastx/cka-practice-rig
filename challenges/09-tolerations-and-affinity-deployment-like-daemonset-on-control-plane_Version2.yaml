id: 09-tolerations-and-affinity-deployment-like-daemonset-on-control-plane_Version2
title: Add tolerations and affinity so a Deployment behaves like a DaemonSet and can run on control-plane nodes.
category: deployment
namespace: deploy-chal
timeLimitSeconds: 900
setup: ../scripts/challenges/setup-deployment.sh
grade: ../grading/grade-deployment.sh
description: |
  In namespace 'deploy-chal', configure Deployment 'app' to schedule on control-plane nodes by adding required tolerations, enforce one pod per node using pod anti-affinity, and set replicas equal to node count to emulate DaemonSet behavior. Confirm one pod runs on each node including control-plane.
  
  Notes:
  - A true DaemonSet is preferred; this technique approximates it with anti-affinity and replica count.
  - On clusters with additional taints, add matching tolerations.
