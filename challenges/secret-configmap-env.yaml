id: secret-configmap-env
title: "Use Secrets and ConfigMaps in pods"
category: deployment
namespace: config-chal
cluster: cka-c
timeLimitSeconds: 600
setup: ../scripts/challenges/setup-config.sh
grade: ../grading/grade-config.sh
description: |
  In namespace 'config-chal' on cluster cka-c:
  1. Create a Secret 'db-secret' with:
     - DB_USER=admin
     - DB_PASS=secretpassword123
  2. Create a ConfigMap 'app-config' with:
     - APP_ENV=production
     - LOG_LEVEL=info
     - config.properties file with "timeout=30\nretries=3"
  3. Create a Pod 'config-pod' with image busybox:1.36 (sleep 3600) that:
     - Loads DB_USER and DB_PASS from secret as environment variables
     - Loads APP_ENV and LOG_LEVEL from configmap as environment variables
     - Mounts config.properties from configmap to /etc/config/config.properties
  4. Verify the environment variables are set correctly in the pod
